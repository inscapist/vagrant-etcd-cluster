{"ignition":{"config":{},"security":{"tls":{}},"timeouts":{},"version":"2.2.0"},"networkd":{},"passwd":{},"storage":{},"systemd":{"units":[{"dropins":[{"contents":"[Service]\nEnvironment=\"ETCD_IMAGE_TAG=v3.4.0\"\nEnvironment=\"ETCD_NAME=etcd1\"\nEnvironment=\"ETCD_ADVERTISE_CLIENT_URLS=http://172.17.10.2:2379\"\nEnvironment=\"ETCD_INITIAL_ADVERTISE_PEER_URLS=http://172.17.10.2:2380\"\nEnvironment=\"ETCD_LISTEN_CLIENT_URLS=http://0.0.0.0:2379\"\nEnvironment=\"ETCD_LISTEN_PEER_URLS=http://0.0.0.0:2380\"\nEnvironment=\"ETCD_LISTEN_METRICS_URLS=http://0.0.0.0:2381\"\nEnvironment=\"ETCD_INITIAL_CLUSTER=etcd1=http://172.17.10.2:2380,etcd2=http://172.17.10.3:2380,etcd3=http://172.17.10.4:2380\"\nEnvironment=\"ETCD_STRICT_RECONFIG_CHECK=true\"\n# SSL\n# Environment=\"ETCD_SSL_DIR=/etc/ssl/etcd\"\n# Environment=\"ETCD_TRUSTED_CA_FILE=/etc/ssl/certs/etcd/server-ca.crt\"\n# Environment=\"ETCD_CERT_FILE=/etc/ssl/certs/etcd/server.crt\"\n# Environment=\"ETCD_KEY_FILE=/etc/ssl/certs/etcd/server.key\"\n# Environment=\"ETCD_CLIENT_CERT_AUTH=true\"\n# Environment=\"ETCD_PEER_TRUSTED_CA_FILE=/etc/ssl/certs/etcd/peer-ca.crt\"\n# Environment=\"ETCD_PEER_CERT_FILE=/etc/ssl/certs/etcd/peer.crt\"\n# Environment=\"ETCD_PEER_KEY_FILE=/etc/ssl/certs/etcd/peer.key\"\n# Environment=\"ETCD_PEER_CLIENT_CERT_AUTH=true\"\n","name":"40-etcd-cluster.conf"}],"enable":true,"name":"etcd-member.service"},{"mask":true,"name":"locksmithd.service"},{"contents":"[Unit]\nDescription=Wait for DNS entries\nWants=systemd-resolved.service\n[Service]\nType=oneshot\nRemainAfterExit=true\nExecStart=/bin/sh -c 'while ! /usr/bin/grep '^[^#[:space:]]' /etc/resolv.conf \u003e /dev/null; do sleep 1; done'\n[Install]\nRequiredBy=etcd-member.service\n","enable":true,"name":"wait-for-dns.service"}]}}